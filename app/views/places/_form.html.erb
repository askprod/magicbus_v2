<div class="card login-form">
      
  <h1 class="card-header adventpro yellow text-center display-5">Share a Spot</h1>

  <div class="card-body">
    <div id="close-button">
  </div>

  <%= form_with(model: place, remote: true) do |form| %>
  
  <div class="row text-center">

    <div class="col-md-8 mx-auto">
      <div id="map2"></div>
    </div>

<div class="col-lg-4 my-auto">
  
  <input id="maps-search-input" class="controls form-control border border-warning rounded mt-3" type="text" placeholder="Search Map. ex: 'Paris'">

  <div class="form-group m-0 pt-3">
    <%= form.label :secret_status, "Is this a Secret Spot?", class: "small" %>
    <%= form.check_box :secret_status, {id: "checkbox1"}, "true", "false" %>
  </div>

  <div class="form-group">
    <%= form.text_field :name, :maxlength => 25, class: "form-control form-control-sm input-sm rounded border", placeholder: "Name" %>
  </div>

  <div class="form-group">
      <%= form.text_field :description, class: "rounded border form-control form-control-sm", placeholder: "Description" %>
  </div>

  <%if place.image_one.attached? || place.image_two.attached? || place.image_three.attached? %>
      <p>Current Pictures:</p>
  <% end %>

  <% if place.image_one.attached? %>
    1: <%= image_tag(place.image_one, size: "50x50")%>
  <% end %>

  <% if place.image_two.attached? %>
    2: <%= image_tag(place.image_two, size: "50x50")%>
  <% end %>

  <% if place.image_three.attached? %>
    3: <%= image_tag(place.image_three, size: "50x50")%>
  <% end %>

  <div class="form-group">
    <div class="custom-file my-1">
      <%= form.file_field :image_one, class:"custom-file-input", id:"fileOne" %>
      <%= form.label :pictures, "Picture 1", class:"custom-file-label form-control-sm", for:"fileOne" %>
    </div>

    <div class="custom-file my-1">
      <%= form.file_field :image_two, class:"custom-file-input", id:"fileTwo" %>
      <%= form.label :pictures, "Picture 2", class:"custom-file-label form-control-sm", for:"fileTwo" %>
    </div>

    <div class="custom-file my-1">
      <%= form.file_field :image_three, class:"custom-file-input", id:"fileThree" %>
      <%= form.label :pictures, "Picture 3", class:"custom-file-label form-control-sm", for:"fileThree" %>
    </div>
  </div>

  <%= form.hidden_field :location, value: form.object.location.to_json %>

  <p style="font-size: 10px;">Don't forget to place your spot on the map!</p>
  
  <div class="mb-3">
    <%= form.submit "Share with MagicBus", class: "btn btn-stylised shadow py-3", id:"spot-submit" %>
  </div>

  <% if user_signed_in? %>
    <%= form.hidden_field :user_id, :value => current_user.id %>
  <% else %>
    <%= form.hidden_field :user_id, :value => nil %>
  <% end %>

  <% end %>

  </div>

</div>

<script>
// Show name of file when uploading images
$('.custom-file-input').on('change', function() { 
   let fileName = $(this).val().split('\\').pop(); 
   $(this).next('.custom-file-label').addClass("selected").html(fileName); 
});
</script>

<script>
$(document).on("keydown", "#maps-search-input", function(event) { 
    return event.key != "Enter";
});
</script>